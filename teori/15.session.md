# session
http di rancang stateles , artinya http tidak pernah minyampan informasi, jadi sifatnya sekali di gunakan selesai  


## memastikan fitur session

pada php kita bisa melihat secara gui dengan fitur `php_info()`

buat saja file dengan nama apapun lalu tulis di script nya 

```php
php_info();
```
silahkan jalankan melalui server / cmd  

kita bisa lihat akan ada fitur session , secara default harus nya aktiv atau enabled,  

![session](/foto/session_fitur.JPG)  


jika tidak aktiv kita   bisa config di `php.ini`  





## $_SESSION

session adalah suatu teknik / cara yang di gunakan  untuk menyimpan inforamsi di dalam variabel global array yang bernama `$_SESSION`  yang di simpan di dalam server dalam waktu tertentu (selama session itu belum berakhir / di hapus) 
dengan cara ini server dapat mengingat informasi yang di kirimkan oleh client jadi kita dapat membuka lebih dari satu halaman dengan informasi yang sama , melalui session tadi  

session biasa di gunakan dalam *login status, freperensi atua keranjang belanja*  



## cara kerja session di PHP

cara kerja session di php terbagi secara garis besar terbagi menjadi 3 tahapan

1. start_session(), untuk memulai session , wajib melakukan start session yang menandakan suatu session aktiv
2. deklarasi , setelah start kita bisa melakukan deklarasi / menyipan suatu data kedalam variabel global array nya, , lalu ada juga load , mengambil session juga berada di tahap nomor 2
3. menghapus, mengahpus session artinya data di hapus, baik secara manual atau dengan waktu tertentu


*** PENJELASAN ALUR SESSION ***  
dalam eksekusi nya, jika ingin menggunakan session ,  
- kita wajib memulai sessin dengan function `session_start()`
- lalu kita bisa mengisi nilai pada session nya (array), 
- begitupun jika kita ingin meload / mengambil data nya, tetap juga di awali dengan start session  
- jika ingin menghapus bisa dengan cara manual , `session_destroy()` atau bisa dengan waktu durasi kita tentukan biasanya 30 menit tanpa aktivitas akan otomatis di hapus, bisa di setting dari PHP nya



## Menjalankan session  

1. pertama kita wajib mejalankan session_start(); 
yang menandai session berjalan , selanjutnya kita bisa membuat variabel nya dalam contoh ini kita membuat variabel login lalu kita set dengan nilai true, dan variabel nama, diambil dari user name  

![menjalankan session](/foto/memulai_session.png);  



## mengambil session
selanjut nya kita coba ambil session nya , dalam contoh ini kita ambil di file dengan nama   `login_member.php`  

pada halaman ini adalah halaman member, jika sudah login maka saat kita mengetik nya 

maka akan di cek, jika sudah login bisa langsung tampil, tapi jika belum login maka akan di kembalikan lagi ke form login, dalam contoh ini di kembalikan ke `15.session.php`


**code **
untuk mengambil session, tetap kita lakukan startSession(), setelah itu kita bisa menggambil apa saja yang ada di session   
![mengambil session](/foto/mengambil_session.png)  



## menghentikan session  
session itu akan di simpan pada server / bisa juga di browser  
session akan hilang berdasarkan waktu biasan nya 30 menit  
tapi kita juga bisa secar manual    
dengan cara menjalankan `sessionDestroy()` 

dengan melakukan ini maka session yang sudah dibuat tadi akan hilang


untuk mekanisme nya sangat sederhana, 
kita cukup menjalankan session start 
lalu kita hapus dengan session destroy
lalu kita kembalikan / ridirect ke halam dimana form login nya


untuk cara nya , kita bisa buat tombol form, dengan hanya menggunakan submit, lalu logic nya 
kita jalan kan


atau bisa juga dengan buat halaam log out, lalu kita arahkan link ke halam logout, dan di dalam nya kita tulis code td
yaitu start session, hapus session dan ridirect dan arahkan ke form login nya

dalam contoh ini kita menggunakan cara buat halaman logout    
kita buat file dengan nama `log_out.php`   

![menghapus session](/foto/menghapus_session.png)  


## masalah pada session
- sesison menyimpan di dalam sautu file di server nya, kendala jika kita memiliki lebih dari satu server,   
- lalu jika semakin banyak session, maka akan semakin besar juga ukuran file nya  

- masalah scalbalitiy di karenakan menyimpan di dalam file tad, saat kita login di server A, dan session di simpan di server tersebut, ketika kita masuk di server B, maka tidak akan terdeteksi / hilang karena pada server berbeda


di dalam localhost ini kita bisa lihat ,   silahkna lihat di phpinfo(), tergantung kita memakai server apa, dalam contoh ini kita menggunakan `laragon`  

berikut lokasi path nya    
![lokasi path](/foto/lokasi_path_session.JPG)  

- oleh karena itu penggunaan session pada web yang besar sudah jarang di gunakan , karena teklogi nya sudah ada alternatif lain untuk memanagement session, seperti, secure cookie atau JWT(Jason Web Token)